<div class="password-input">
  <label class="password-input__label" [attr.for]="id()">
    {{ label() }}
    @if (required()) {
      <span class="password-input__required">*</span>
    }
  </label>
  
  <div class="password-input__wrapper">
    <i class="bi bi-lock password-input__icon password-input__icon--left"></i>
    
    <input
      [id]="id()"
      [type]="showPassword() ? 'text' : 'password'"
      [placeholder]="placeholder()"
      [disabled]="disabled()"
      [value]="value()"
      [autocomplete]="autocomplete()"
      [class.password-input__field--error]="errorMessage()"
      (input)="onValueChange($any($event.target).value)"
      (blur)="onBlur()"
      (focus)="onFocus()"
      class="password-input__field"
      aria-label="Campo de contraseña"
    />
    
    <button
      type="button"
      class="password-input__toggle"
      (click)="togglePasswordVisibility()"
      [attr.aria-label]="showPassword() ? 'Ocultar contraseña' : 'Mostrar contraseña'"
      [disabled]="disabled()">
      <i [class]="showPassword() ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
    </button>
  </div>
  
  @if (errorMessage()) {
    <div class="password-input__error" role="alert">
      {{ errorMessage() }}
    </div>
  } @else if (hint()) {
    <div class="password-input__hint">
      {{ hint() }}
    </div>
  }
</div>
